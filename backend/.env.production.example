# Backend - Supabase Environment Variables
# Copy these to Supabase project settings or CI/CD pipeline

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
# Supabase PostgreSQL Connection String
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:[PASSWORD]@[SUPABASE_HOST]:5432/postgres

# Alternative Supabase Connection Pooler (recommended for serverless)
SUPABASE_DB_URL=postgresql://postgres.[PROJECT_ID]:[PASSWORD]@aws-0-region.pooler.supabase.com:6543/postgres

# ============================================================
# DJANGO CORE SETTINGS
# ============================================================
# IMPORTANT: Generate a new SECRET_KEY for production!
# Use: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-very-long-random-secret-key-here-must-be-50-chars-minimum

# NEVER set DEBUG=True in production!
DEBUG=False

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com,*.supabase.co

# CORS Allowed Origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://yourdomain.vercel.app

# ============================================================
# JWT TOKEN SETTINGS
# ============================================================
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=7

# ============================================================
# FIREBASE ADMIN SDK
# Download service account JSON from Firebase Console
# ============================================================
# Option 1: Store entire JSON as environment variable
FIREBASE_ADMIN_CREDENTIAL={"type":"service_account","project_id":"yanzi-parcels","private_key_id":"abc123...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk@yanzi-parcels.iam.gserviceaccount.com","client_id":"123456789","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/..."}

# Option 2: Store file path
# FIREBASE_CREDENTIALS_PATH=/app/firebase-credentials.json

# ============================================================
# PAYMENT GATEWAY - STRIPE
# Get these from Stripe Dashboard: https://dashboard.stripe.com
# ============================================================
STRIPE_PUBLIC_API_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_API_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx

# For testing/staging, use test keys:
# STRIPE_PUBLIC_API_KEY=pk_test_51OLxrMIhECL0gCBjDJkMCCpbtdvIehnp30mZ8cYfjZgeXV2QsP7uAoisaOK8qSg1epcC9iBWFopI7G8gqv3iCVPV00MkrKBcuE
# STRIPE_API_SECRET_KEY=sk_test_51OLxrMIhECL0gCBjBgZSVnVJmCSzfhl7kOxTgJ0N5zsanIjgCUicnJz9h0v631cydfNgMktMXkahB3zXgEyVEXVO00xS7Clr6Z

# ============================================================
# GOOGLE MAPS API
# Get key from: https://console.cloud.google.com
# ============================================================
GOOGLE_MAP_API_KEY=AIzaSyDHB4sh9YIhktkXeDXYETgNQCdEZGWJagk
GOOGLE_MAPS_API_KEY=AIzaSyDHB4sh9YIhktkXeDXYETgNQCdEZGWJagk

# ============================================================
# PAYPAL INTEGRATION (for courier payouts)
# Get credentials from: https://developer.paypal.com
# ============================================================
# Mode: 'live' for production, 'sandbox' for testing
PAYPAL_MODE=live
PAYPAL_CLIENT_ID=Your_PayPal_Client_ID_Here
PAYPAL_CLIENT_SECRET=Your_PayPal_Client_Secret_Here

# Testing credentials (sandbox):
# PAYPAL_MODE=sandbox
# PAYPAL_CLIENT_ID=Af8gMF1YL8g-SyYdyaQGyW_IwzPyTdOjnZjkmXB8qwhgSmItVLZ7beKoltcPIdBdF4dbVq-gVUy05pdY
# PAYPAL_CLIENT_SECRET=EITj72I0l1RZzYVc-CZK2m-3jvLQuzKFFv4bH8Dmhxx8xjnQ5WmpxNJnZoE48RcRvF-rGURX9__A1Lgv

# ============================================================
# EMAIL CONFIGURATION
# Using Gmail or SendGrid for notifications
# ============================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# Alternative: SendGrid
# EMAIL_BACKEND=sendgrid_backend.SendgridBackend
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# ============================================================
# M-PESA INTEGRATION (Kenya mobile money)
# Get credentials from M-Pesa Developer Portal
# ============================================================
MPESA_CONSUMER_KEY=Your_M-Pesa_Consumer_Key
MPESA_CONSUMER_SECRET=Your_M-Pesa_Consumer_Secret
MPESA_PASSKEY=Your_M-Pesa_Passkey
MPESA_SHORTCODE=123456
MPESA_TILL_NUMBER=Your_M-Pesa_Till_Number
MPESA_ENVIRONMENT=production

# ============================================================
# AWS S3 CONFIGURATION (for media file storage)
# Get credentials from: https://aws.amazon.com
# ============================================================
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=Your_AWS_Secret_Key_Here
AWS_STORAGE_BUCKET_NAME=yanzi-parcels-media
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=yourdomain.cloudfront.net
AWS_DEFAULT_ACL=public-read

# ============================================================
# CLOUDFRONT CDN (for serving media files)
# ============================================================
CLOUDFRONT_DISTRIBUTION_ID=E1234ABCD5
CLOUDFRONT_DOMAIN=yourdomain.cloudfront.net

# ============================================================
# LOGGING & MONITORING
# ============================================================
# Sentry error tracking
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# CloudWatch Logs (if using AWS Lambda)
AWS_CLOUDWATCH_LOG_GROUP=/aws/lambda/yanzi-parcels

# DataDog monitoring
DATADOG_API_KEY=Your_DataDog_API_Key
DATADOG_ENV=production

# ============================================================
# FEATURE FLAGS & SETTINGS
# ============================================================
# Enable/disable features
ENABLE_HUB_DELIVERY=true
ENABLE_BUSINESS_PORTAL=true
ENABLE_SCHEDULED_DELIVERIES=true
ENABLE_COD=true
ENABLE_INSURANCE=true
ENABLE_REFERRAL_PROGRAM=true

# API Rate Limiting
API_RATE_LIMIT=1000/hour

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# ============================================================
# SECURITY SETTINGS
# ============================================================
# HTTPS
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# Security headers
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# ============================================================
# BACKGROUND TASKS (Celery/Redis)
# ============================================================
# Redis URL for Celery task queue
REDIS_URL=redis://:password@host:6379/0

# Celery broker settings
CELERY_BROKER_URL=redis://:password@host:6379/0
CELERY_RESULT_BACKEND=redis://:password@host:6379/0

# ============================================================
# IMPORTANT NOTES
# ============================================================
# 1. Never commit this file to Git - add to .gitignore
# 2. Generate new SECRET_KEY for each deployment
# 3. Keep all API keys and secrets confidential
# 4. Rotate credentials regularly
# 5. Use different keys for staging/production
# 6. Enable backup and disaster recovery
# 7. Monitor logs and errors continuously
# 8. Test all environment variables before deploying
